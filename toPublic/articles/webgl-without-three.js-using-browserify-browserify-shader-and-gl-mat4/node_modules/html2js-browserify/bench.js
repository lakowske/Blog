var Benchmark = require('benchmark');
var suite = new Benchmark.Suite;

// add tests
suite.add("'...' + '...'", function() {
  'There was movement at the station, for the word had passed around' +
  'That the colt from old Regret had got away,' +
  'And had joined the wild bush horses -- he was worth a thousand pound,' +
  'So all the cracks had gathered to the fray.' +
  'All the tried and noted riders from the stations near and far' +
  'Had mustered at the homestead overnight,' +
  'For the bushmen love hard riding where the wild bush horses are,' +
  'And the stock-horse snuffs the battle with delight.' +
  '' +
  'There was Harrison, who made his pile when Pardon won the cup,' +
  'The old man with his hair as white as snow;' +
  'But few could ride beside him when his blood was fairly up --' +
  'He would go wherever horse and man could go.' +
  'And Clancy of the Overflow came down to lend a hand,' +
  'No better horseman ever held the reins;' +
  'For never horse could throw him while the saddle-girths would stand,' +
  'He learnt to ride while droving on the plains.' +
  '' +
  'And one was there, a stripling on a small and weedy beast,' +
  'He was something like a racehorse undersized,' +
  'With a touch of Timor pony -- three parts thoroughbred at least --' +
  'And such as are by mountain horsemen prized.' +
  'He was hard and tough and wiry -- just the sort that won\'t say die --' +
  'There was courage in his quick impatient tread;' +
  'And he bore the badge of gameness in his bright and fiery eye,' +
  'And the proud and lofty carriage of his head.' +
  '' +
  'But still so slight and weedy, one would doubt his power to stay,' +
  'And the old man said, `That horse will never do' +
  'For a long and tiring gallop -- lad, you\'d better stop away,' +
  'Those hills are far too rough for such as you.\'' +
  'So he waited sad and wistful -- only Clancy stood his friend --' +
  '`I think we ought to let him come,\' he said;' +
  '`I warrant he\'ll be with us when he\'s wanted at the end,' +
  'For both his horse and he are mountain bred.' +
  '' +
  '`He hails from Snowy River, up by Kosciusko\'s side,' +
  'Where the hills are twice as steep and twice as rough,' +
  'Where a horse\'s hoofs strike firelight from the flint stones every stride,' +
  'The man that holds his own is good enough.' +
  'And the Snowy River riders on the mountains make their home,' +
  'Where the river runs those giant hills between;' +
  'I have seen full many horsemen since I first commenced to roam,' +
  'But nowhere yet such horsemen have I seen.\'' +
  '' +
  'So he went -- they found the horses by the big mimosa clump --' +
  'They raced away towards the mountain\'s brow,' +
  'And the old man gave his orders, `Boys, go at them from the jump,' +
  'No use to try for fancy riding now.' +
  'And, Clancy, you must wheel them, try and wheel them to the right.' +
  'Ride boldly, lad, and never fear the spills,' +
  'For never yet was rider that could keep the mob in sight,' +
  'If once they gain the shelter of those hills.\'' +
  '' +
  'So Clancy rode to wheel them -- he was racing on the wing' +
  'Where the best and boldest riders take their place,' +
  'And he raced his stock-horse past them, and he made the ranges ring' +
  'With the stockwhip, as he met them face to face.' +
  'Then they halted for a moment, while he swung the dreaded lash,' +
  'But they saw their well-loved mountain full in view,' +
  'And they charged beneath the stockwhip with a sharp and sudden dash,' +
  'And off into the mountain scrub they flew.' +
  '' +
  'Then fast the horsemen followed, where the gorges deep and black' +
  'Resounded to the thunder of their tread,' +
  'And the stockwhips woke the echoes, and they fiercely answered back' +
  'From cliffs and crags that beetled overhead.' +
  'And upward, ever upward, the wild horses held their way,' +
  'Where mountain ash and kurrajong grew wide;' +
  'And the old man muttered fiercely, `We may bid the mob good day,' +
  'NO man can hold them down the other side.\'' +
  '' +
  'When they reached the mountain\'s summit, even Clancy took a pull,' +
  'It well might make the boldest hold their breath,' +
  'The wild hop scrub grew thickly, and the hidden ground was full' +
  'Of wombat holes, and any slip was death.' +
  'But the man from Snowy River let the pony have his head,' +
  'And he swung his stockwhip round and gave a cheer,' +
  'And he raced him down the mountain like a torrent down its bed,' +
  'While the others stood and watched in very fear.' +
  '' +
  'He sent the flint stones flying, but the pony kept his feet,' +
  'He cleared the fallen timber in his stride,' +
  'And the man from Snowy River never shifted in his seat --' +
  'It was grand to see that mountain horseman ride.' +
  'Through the stringy barks and saplings, on the rough and broken ground,' +
  'Down the hillside at a racing pace he went;' +
  'And he never drew the bridle till he landed safe and sound,' +
  'At the bottom of that terrible descent.' +
  '' +
  'He was right among the horses as they climbed the further hill,' +
  'And the watchers on the mountain standing mute,' +
  'Saw him ply the stockwhip fiercely, he was right among them still,' +
  'As he raced across the clearing in pursuit.' +
  'Then they lost him for a moment, where two mountain gullies met' +
  'In the ranges, but a final glimpse reveals' +
  'On a dim and distant hillside the wild horses racing yet,' +
  'With the man from Snowy River at their heels.' +
  '' +
  'And he ran them single-handed till their sides were white with foam.' +
  'He followed like a bloodhound on their track,' +
  'Till they halted cowed and beaten, then he turned their heads for home,' +
  'And alone and unassisted brought them back.' +
  'But his hardy mountain pony he could scarcely raise a trot,' +
  'He was blood from hip to shoulder from the spur;' +
  'But his pluck was still undaunted, and his courage fiery hot,' +
  'For never yet was mountain horse a cur.' +
  '' +
  'And down by Kosciusko, where the pine-clad ridges raise' +
  'Their torn and rugged battlements on high,' +
  'Where the air is clear as crystal, and the white stars fairly blaze' +
  'At midnight in the cold and frosty sky,' +
  'And where around the Overflow the reedbeds sweep and sway' +
  'To the breezes, and the rolling plains are wide,' +
  'The man from Snowy River is a household word to-day,' +
  'And the stockmen tell the story of his ride.'
})
.add("['...', '...'].join('')", function() {
  [
    'There was movement at the station, for the word had passed around',
    'That the colt from old Regret had got away,',
    'And had joined the wild bush horses -- he was worth a thousand pound,',
    'So all the cracks had gathered to the fray.',
    'All the tried and noted riders from the stations near and far',
    'Had mustered at the homestead overnight,',
    'For the bushmen love hard riding where the wild bush horses are,',
    'And the stock-horse snuffs the battle with delight.',
    '',
    'There was Harrison, who made his pile when Pardon won the cup,',
    'The old man with his hair as white as snow;',
    'But few could ride beside him when his blood was fairly up --',
    'He would go wherever horse and man could go.',
    'And Clancy of the Overflow came down to lend a hand,',
    'No better horseman ever held the reins;',
    'For never horse could throw him while the saddle-girths would stand,',
    'He learnt to ride while droving on the plains.',
    '',
    'And one was there, a stripling on a small and weedy beast,',
    'He was something like a racehorse undersized,',
    'With a touch of Timor pony -- three parts thoroughbred at least --',
    'And such as are by mountain horsemen prized.',
    'He was hard and tough and wiry -- just the sort that won\'t say die --',
    'There was courage in his quick impatient tread;',
    'And he bore the badge of gameness in his bright and fiery eye,',
    'And the proud and lofty carriage of his head.',
    '',
    'But still so slight and weedy, one would doubt his power to stay,',
    'And the old man said, `That horse will never do',
    'For a long and tiring gallop -- lad, you\'d better stop away,',
    'Those hills are far too rough for such as you.\'',
    'So he waited sad and wistful -- only Clancy stood his friend --',
    '`I think we ought to let him come,\' he said;',
    '`I warrant he\'ll be with us when he\'s wanted at the end,',
    'For both his horse and he are mountain bred.',
    '',
    '`He hails from Snowy River, up by Kosciusko\'s side,',
    'Where the hills are twice as steep and twice as rough,',
    'Where a horse\'s hoofs strike firelight from the flint stones every stride,',
    'The man that holds his own is good enough.',
    'And the Snowy River riders on the mountains make their home,',
    'Where the river runs those giant hills between;',
    'I have seen full many horsemen since I first commenced to roam,',
    'But nowhere yet such horsemen have I seen.\'',
    '',
    'So he went -- they found the horses by the big mimosa clump --',
    'They raced away towards the mountain\'s brow,',
    'And the old man gave his orders, `Boys, go at them from the jump,',
    'No use to try for fancy riding now.',
    'And, Clancy, you must wheel them, try and wheel them to the right.',
    'Ride boldly, lad, and never fear the spills,',
    'For never yet was rider that could keep the mob in sight,',
    'If once they gain the shelter of those hills.\'',
    '',
    'So Clancy rode to wheel them -- he was racing on the wing',
    'Where the best and boldest riders take their place,',
    'And he raced his stock-horse past them, and he made the ranges ring',
    'With the stockwhip, as he met them face to face.',
    'Then they halted for a moment, while he swung the dreaded lash,',
    'But they saw their well-loved mountain full in view,',
    'And they charged beneath the stockwhip with a sharp and sudden dash,',
    'And off into the mountain scrub they flew.',
    '',
    'Then fast the horsemen followed, where the gorges deep and black',
    'Resounded to the thunder of their tread,',
    'And the stockwhips woke the echoes, and they fiercely answered back',
    'From cliffs and crags that beetled overhead.',
    'And upward, ever upward, the wild horses held their way,',
    'Where mountain ash and kurrajong grew wide;',
    'And the old man muttered fiercely, `We may bid the mob good day,',
    'NO man can hold them down the other side.\'',
    '',
    'When they reached the mountain\'s summit, even Clancy took a pull,',
    'It well might make the boldest hold their breath,',
    'The wild hop scrub grew thickly, and the hidden ground was full',
    'Of wombat holes, and any slip was death.',
    'But the man from Snowy River let the pony have his head,',
    'And he swung his stockwhip round and gave a cheer,',
    'And he raced him down the mountain like a torrent down its bed,',
    'While the others stood and watched in very fear.',
    '',
    'He sent the flint stones flying, but the pony kept his feet,',
    'He cleared the fallen timber in his stride,',
    'And the man from Snowy River never shifted in his seat --',
    'It was grand to see that mountain horseman ride.',
    'Through the stringy barks and saplings, on the rough and broken ground,',
    'Down the hillside at a racing pace he went;',
    'And he never drew the bridle till he landed safe and sound,',
    'At the bottom of that terrible descent.',
    '',
    'He was right among the horses as they climbed the further hill,',
    'And the watchers on the mountain standing mute,',
    'Saw him ply the stockwhip fiercely, he was right among them still,',
    'As he raced across the clearing in pursuit.',
    'Then they lost him for a moment, where two mountain gullies met',
    'In the ranges, but a final glimpse reveals',
    'On a dim and distant hillside the wild horses racing yet,',
    'With the man from Snowy River at their heels.',
    '',
    'And he ran them single-handed till their sides were white with foam.',
    'He followed like a bloodhound on their track,',
    'Till they halted cowed and beaten, then he turned their heads for home,',
    'And alone and unassisted brought them back.',
    'But his hardy mountain pony he could scarcely raise a trot,',
    'He was blood from hip to shoulder from the spur;',
    'But his pluck was still undaunted, and his courage fiery hot,',
    'For never yet was mountain horse a cur.',
    '',
    'And down by Kosciusko, where the pine-clad ridges raise',
    'Their torn and rugged battlements on high,',
    'Where the air is clear as crystal, and the white stars fairly blaze',
    'At midnight in the cold and frosty sky,',
    'And where around the Overflow the reedbeds sweep and sway',
    'To the breezes, and the rolling plains are wide,',
    'The man from Snowy River is a household word to-day,',
    'And the stockmen tell the story of his ride.',
  ].join('');
})
.add("'...'", function() {
  'There was movement at the station, for the word had passed around\nThat the colt from old Regret had got away,\nAnd had joined the wild bush horses -- he was worth a thousand pound,\nSo all the cracks had gathered to the fray.\nAll the tried and noted riders from the stations near and far\nHad mustered at the homestead overnight,\nFor the bushmen love hard riding where the wild bush horses are,\nAnd the stock-horse snuffs the battle with delight.\n\nThere was Harrison, who made his pile when Pardon won the cup,\nThe old man with his hair as white as snow;\nBut few could ride beside him when his blood was fairly up --\nHe would go wherever horse and man could go.\nAnd Clancy of the Overflow came down to lend a hand,\nNo better horseman ever held the reins;\nFor never horse could throw him while the saddle-girths would stand,\nHe learnt to ride while droving on the plains.\n\nAnd one was there, a stripling on a small and weedy beast,\nHe was something like a racehorse undersized,\nWith a touch of Timor pony -- three parts thoroughbred at least --\nAnd such as are by mountain horsemen prized.\nHe was hard and tough and wiry -- just the sort that won\'t say die --\nThere was courage in his quick impatient tread;\nAnd he bore the badge of gameness in his bright and fiery eye,\nAnd the proud and lofty carriage of his head.\n\nBut still so slight and weedy, one would doubt his power to stay,\nAnd the old man said, `That horse will never do\nFor a long and tiring gallop -- lad, you\'d better stop away,\nThose hills are far too rough for such as you.\'\nSo he waited sad and wistful -- only Clancy stood his friend --\n`I think we ought to let him come,\' he said;\n`I warrant he\'ll be with us when he\'s wanted at the end,\nFor both his horse and he are mountain bred.\n\n`He hails from Snowy River, up by Kosciusko\'s side,\nWhere the hills are twice as steep and twice as rough,\nWhere a horse\'s hoofs strike firelight from the flint stones every stride,\nThe man that holds his own is good enough.\nAnd the Snowy River riders on the mountains make their home,\nWhere the river runs those giant hills between;\nI have seen full many horsemen since I first commenced to roam,\nBut nowhere yet such horsemen have I seen.\'\n\nSo he went -- they found the horses by the big mimosa clump --\nThey raced away towards the mountain\'s brow,\nAnd the old man gave his orders, `Boys, go at them from the jump,\nNo use to try for fancy riding now.\nAnd, Clancy, you must wheel them, try and wheel them to the right.\nRide boldly, lad, and never fear the spills,\nFor never yet was rider that could keep the mob in sight,\nIf once they gain the shelter of those hills.\'\n\nSo Clancy rode to wheel them -- he was racing on the wing\nWhere the best and boldest riders take their place,\nAnd he raced his stock-horse past them, and he made the ranges ring\nWith the stockwhip, as he met them face to face.\nThen they halted for a moment, while he swung the dreaded lash,\nBut they saw their well-loved mountain full in view,\nAnd they charged beneath the stockwhip with a sharp and sudden dash,\nAnd off into the mountain scrub they flew.\n\nThen fast the horsemen followed, where the gorges deep and black\nResounded to the thunder of their tread,\nAnd the stockwhips woke the echoes, and they fiercely answered back\nFrom cliffs and crags that beetled overhead.\nAnd upward, ever upward, the wild horses held their way,\nWhere mountain ash and kurrajong grew wide;\nAnd the old man muttered fiercely, `We may bid the mob good day,\nNO man can hold them down the other side.\'\n\nWhen they reached the mountain\'s summit, even Clancy took a pull,\nIt well might make the boldest hold their breath,\nThe wild hop scrub grew thickly, and the hidden ground was full\nOf wombat holes, and any slip was death.\nBut the man from Snowy River let the pony have his head,\nAnd he swung his stockwhip round and gave a cheer,\nAnd he raced him down the mountain like a torrent down its bed,\nWhile the others stood and watched in very fear.\n\nHe sent the flint stones flying, but the pony kept his feet,\nHe cleared the fallen timber in his stride,\nAnd the man from Snowy River never shifted in his seat --\nIt was grand to see that mountain horseman ride.\nThrough the stringy barks and saplings, on the rough and broken ground,\nDown the hillside at a racing pace he went;\nAnd he never drew the bridle till he landed safe and sound,\nAt the bottom of that terrible descent.\n\nHe was right among the horses as they climbed the further hill,\nAnd the watchers on the mountain standing mute,\nSaw him ply the stockwhip fiercely, he was right among them still,\nAs he raced across the clearing in pursuit.\nThen they lost him for a moment, where two mountain gullies met\nIn the ranges, but a final glimpse reveals\nOn a dim and distant hillside the wild horses racing yet,\nWith the man from Snowy River at their heels.\n\nAnd he ran them single-handed till their sides were white with foam.\nHe followed like a bloodhound on their track,\nTill they halted cowed and beaten, then he turned their heads for home,\nAnd alone and unassisted brought them back.\nBut his hardy mountain pony he could scarcely raise a trot,\nHe was blood from hip to shoulder from the spur;\nBut his pluck was still undaunted, and his courage fiery hot,\nFor never yet was mountain horse a cur.\n\nAnd down by Kosciusko, where the pine-clad ridges raise\nTheir torn and rugged battlements on high,\nWhere the air is clear as crystal, and the white stars fairly blaze\nAt midnight in the cold and frosty sky,\nAnd where around the Overflow the reedbeds sweep and sway\nTo the breezes, and the rolling plains are wide,\nThe man from Snowy River is a household word to-day,\nAnd the stockmen tell the story of his ride.';
})
// add listeners
.on('cycle', function(event) {
  console.log(String(event.target));
})
.on('complete', function() {
  console.log('Fastest is ' + this.filter('fastest').pluck('name'));
})
// run async
.run({ 'async': true });
